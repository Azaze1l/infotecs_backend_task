# Тестовое задание для infotecs

### Реализация:

Python 3.9, aiohttp 3.7.3

Интерфейс работает по адресу 127.0.0.1:8000

Запуск осуществляется командой python3 script.py

### Задание 1

Метод доступен по адресу 
```sh
127.0.0.1:8000/api/v1/info_by_id
```
Метод принимает один GET параметр id, и возвращает информацию о городе в формате JSON
 - id -  id города в поле базы данных 'geonameid'
 
Написанный код обрабатывает две авайриные ситуации:
1. Введен несуществующий в БД id
2. Запрос введен некорректно

В обоих случаях сервер уведомляет клиента об ошибке

Для поиска искомого города используется алгоритм бинарного поиска

После обнаружения необходимого города информация о нем переносится в словарь, который имеет структуру JSON-файла:

```sh
'geonameid': id,
'name': name,
'asciiname': asciiname, 
'alternatenames': alternatenames,
'latitude': latitude, 
'longtitude': longtitude,
'feature_class': feature_class, 
'feature_code': feature_code,
'county_code': country_code, 
'cc2': cc2,
'admin1_code': admin1_code, 
'admin2_code': admin2_code,
'admin3_code': admin3_code, 
'admin4_code': admin4_code,
'population': population, 
'elevation': elevation,
'dem': dem, 
'timezone': timezone,
'modification_date': modification_date
```

Для генерации словаря написана отдельная функция make_a_city_dict

### Задание 2

Метод доступен по адресу 
```sh
127.0.0.1:8000/api/v1/cities_page
```

Метод принимает два GET параметра: page и count; и выводит информацию о городах с искомой страницы в формате JSON
 - page - номер искомой страницы 
 - count - количество городов на странице 
 
Написанный код обрабатывает три авайриные ситуации:
1. Число городов на странице равно 0 или превышает количество существующих
2. Номер искомой страницы превышает номер последней существующей или равен 0
3. Запрос введен некорректно

Во всех случаях сервер уведомляет клиента об ошибке
 
### Задание 3

Метод доступен по адресу 
```sh
127.0.0.1:8000/api/v1/comparison
```

Метод принимает два GET параметра: city1 и city2; и выводит информацию о найденных городах, а также дополнительно: какой из них расположен севернее и одинаковая ли у них временная зона
 - city1 - название первого города на русском языке
 - city2 - название второго города на русском языке 

Написанный код обрабатывает две аварийные ситуацию:
1. Города с таким названием не существует
2. Запрос введент некорректно

В обоих случаях сервер уведомляет клиента об ошибке

Для поиска искомого города создана отдельная асинхронная функция find_a_correct_city
